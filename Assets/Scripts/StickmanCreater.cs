using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using System.Globalization;
using System;

public class StickmanCreater : MonoBehaviour
{
    private string positions = "[(-0.10755845904350281, -0.566332995891571, -0.17337942123413086), (-0.10199901461601257, -0.606780469417572, -0.17168641090393066), (-0.10171599686145782, -0.6070476174354553, -0.1708533763885498), (-0.10196453332901001, -0.607175886631012, -0.17069387435913086), (-0.12774784862995148, -0.6001722812652588, -0.15709590911865234), (-0.12790951132774353, -0.6008838415145874, -0.15790700912475586), (-0.1282593011856079, -0.602125883102417, -0.1573042869567871), (-0.013760147616267204, -0.6200494766235352, -0.10658049583435059), (-0.1388438642024994, -0.602886974811554, -0.050353050231933594), (-0.06614112854003906, -0.5525497198104858, -0.14666032791137695), (-0.1023990586400032, -0.5450075268745422, -0.12749600410461426), (0.1468842476606369, -0.47658395767211914, -0.029406724497675896), (-0.19353780150413513, -0.4618590772151947, -0.0064144134521484375), (0.24338525533676147, -0.2852853536605835, -0.08939969539642334), (-0.3664446473121643, -0.2701388895511627, -0.005773961544036865), (0.23226884007453918, -0.18100324273109436, -0.2542600631713867), (-0.49040162563323975, -0.13705164194107056, -0.11932206153869629), (0.23264752328395844, -0.14604002237319946, -0.2890293598175049), (-0.5259864330291748, -0.10318729281425476, -0.13482451438903809), (0.200709730386734, -0.1630423218011856, -0.2988412380218506), (-0.5157558917999268, -0.11307214200496674, -0.16433978080749512), (0.21744896471500397, -0.17938275635242462, -0.2606377601623535), (-0.4874730706214905, -0.1289059817790985, -0.13547611236572266), (0.11736413836479187, 0.0058386740274727345, -0.0022706985473632812), (-0.1177339181303978, -0.006278082262724638, 0.0031251907348632812), (0.3591022193431854, 0.13185732066631317, -0.2219095230102539), (-0.4189647138118744, 0.09201347827911377, -0.11996400356292725), (0.4239124059677124, 0.4016002416610718, -0.0023698806762695312), (-0.40427669882774353, 0.40096476674079895, 0.059227943420410156), (0.4410778880119324, 0.4397982358932495, 0.016841888427734375), (-0.40634793043136597, 0.445121169090271, 0.0764617919921875), (0.5483031272888184, 0.4968748390674591, -0.06334924697875977), (-0.5222113728523254, 0.5222684144973755, 0.017089366912841797)]";
    [SerializeField] GameObject sphere;

    // Start is called before the first frame update
    void Start()
    {
        // 不要な文字を削除（括弧やスペースなど）
        positions = positions.Trim('[', ']', ' ');

        // 各タプルの文字列を分割
        string[] tupleStrings = positions.Split(new[] { "), (" }, StringSplitOptions.None);

        // タプルのリスト
        List<Vector3> joints = new List<Vector3>();

        // 各タプルの文字列を解析してタプルに変換
        foreach (string tupleString in tupleStrings)
        {
            string cleanedTuple = tupleString.Trim('(', ')');
            string[] parts = cleanedTuple.Split(',');

            // floatに変換してタプルに追加
            float item1 = float.Parse(parts[0], CultureInfo.InvariantCulture);
            float item2 = float.Parse(parts[1], CultureInfo.InvariantCulture);
            float item3 = float.Parse(parts[2], CultureInfo.InvariantCulture);
            joints.Add(new Vector3(item1, item2, item3));
        }
        foreach (Vector3 joint in joints) {
            Instantiate(sphere, joint * 10, Quaternion.identity);
        }
    }

    // Update is called once per frame
    void Update()
    {
        
    }
}
